<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<body>

<!-- Navbar específica para bibliotecarios -->
<nav th:fragment="navbarBibliotecario(activeSection)" class="navbar navbar-main">
  <div class="container d-flex align-items-center justify-content-between">
    <a class="navbar-brand text-white" href="#" th:href="@{/dashboard/bibliotecario}">
        BIBLIOTECA
    </a>

    <div class="d-flex align-items-center gap-3">
        <a class="nav-link" 
           th:classappend="${activeSection == 'home'} ? 'active text-white' : 'nav-link-muted'"
           href="#" th:href="@{/dashboard/bibliotecario}">Inicio</a>
        <a class="nav-link"
           th:classappend="${activeSection == 'prestamos'} ? 'active text-white' : 'nav-link-muted'"
           href="#" th:href="@{/bibliotecario/prestamos}">Préstamos</a>
        <a class="nav-link"
           th:classappend="${activeSection == 'lectores'} ? 'active text-white' : 'nav-link-muted'"
           href="#" th:href="@{/bibliotecario/lectores}">Lectores</a>
        <a class="nav-link"
           th:classappend="${activeSection == 'catalogo'} ? 'active text-white' : 'nav-link-muted'"
           href="#" th:href="@{/bibliotecario/catalogo}">Catálogo</a>

      <!-- Menú usuario -->
      <th:block th:with="nombre=${#authentication?.principal?.nombreCompleto?:'Bibliotecario Demo'},
               iniciales=${#strings.arraySplit(nombre,' ').length()>1 ?
                     #strings.substring(#strings.arraySplit(nombre,' ')[0],0,1) + #strings.substring(#strings.arraySplit(nombre,' ')[1],0,1) :
                     #strings.substring(nombre,0,1)}"
           th:replace="~{fragments/user-menu :: userMenu(${iniciales}, ${nombre}, 'Bibliotecario', @{/bibliotecario/perfil})}"></th:block>
  </div>
</nav>

</body>
</html>