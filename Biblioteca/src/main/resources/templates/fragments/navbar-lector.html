<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<body>
<nav class="navbar navbar-main" th:fragment="navbarLector(activo)">
    <div class="container d-flex align-items-center justify-content-between">
        <a class="navbar-brand text-white" th:href="@{/dashboard/lector}">BIBLIOTECA</a>

        <div class="d-flex align-items-center gap-3">
            <a class="nav-link" th:classappend="${activo}=='home' ? ' active text-white' : ' nav-link-muted'"
               th:href="@{/dashboard/lector}">Inicio</a>

            <a class="nav-link" th:classappend="${activo}=='catalogo' ? ' active text-white' : ' nav-link-muted'"
               th:href="@{/lector/catalogo}">Catálogo</a>

            <a class="nav-link" th:classappend="${activo}=='prestamos' ? ' active text-white' : ' nav-link-muted'"
               th:href="@{/lector/prestamos}">Mis préstamos</a>

            <th:block th:with="nombre=${#authentication?.principal?.nombreCompleto?:'Lector Demo'},
                               iniciales=${#strings.arraySplit(nombre,' ').length()>1 ?
                                          #strings.substring(#strings.arraySplit(nombre,' ')[0],0,1) + #strings.substring(#strings.arraySplit(nombre,' ')[1],0,1) :
                                          #strings.substring(nombre,0,1)}"
                      th:replace="~{fragments/user-menu :: userMenu(${iniciales}, ${nombre}, 'Lector', @{/lector/perfil})}"></th:block>
        </div>
    </div>
</nav>
</body>
</html>
